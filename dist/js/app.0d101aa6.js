(function(){"use strict";var e={6829:function(e,t,n){var i=n(6369),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{attrs:{id:"banner"}}),t("EuropeMap")],1)},r=[],s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"container"}})},a=[],l=(n(7658),n(1114)),h=n(4543),c=n(4593),u=n(7971),d=n(8046),p=n(6924),T=n.p+"fonts/DB Sans Bold.7b9525f1.ttf",w={name:"EuropeMap",data(){return{camera:null,scene:new l.xsS,renderer:null,mesh:null,controls:null,iR:null,text:null,material_building:new l.RSm,HEIGHT:1,center:[10,51],SCALE:1e6,k:0,COUNTRIES:["Germany","France","Denmark","Netherlands","Luxembourg","Switzerland","Poland","Italy","Liechtenstein","Czech Republic","Austria","Belgium","Sweden","Finland","Norway","Hungary","Slovakia"],COUNTRIES_MESH:[],COUNTRIES_TEXT:[],COUNTRIES_TEXT_ROT:[],COUNTRIES_TEXT_POS:[],COUNTRIES_TEXT_HEIGHT:.09,COUNTRIES_POINT:[],GEO_POINT:new l.DvJ(.005,.005,.005),MAT_BASIC_BLACK:new l.vBJ({color:0}),COL_OCEAN:new l.Ilk(11262186),COL_TARGET:new l.Ilk(16316671),COL_REST:new l.Ilk(214954188),COL_EDGES:new l.Ilk(9942172),COL_FONT:new l.Ilk(4737096),COL_FONT2:new l.Ilk(16711680),COLORMAPS:[new l.Ilk(16756141),new l.Ilk(16766629),new l.Ilk(16646070),new l.Ilk(13303743),new l.Ilk(10221311),new l.Ilk(10536191),new l.Ilk(12432127),new l.Ilk(16762623),new l.Ilk(16711932),new l.Ilk(16735631),new l.Ilk(16772829),new l.Ilk(16738411)]}},methods:{init:function(){let e=this;function t(){e.camera.aspect=window.innerWidth/window.innerHeight,e.camera.updateProjectionMatrix(),e.renderer.setSize(window.innerWidth,window.innerHeight)}window.addEventListener("resize",t,!1);let n=document.getElementById("container");this.camera=new l.iKG(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,1,1e3),this.camera.zoom=1800,this.camera.position.set(0,4,0),this.camera.lookAt(0,0,0),this.camera.rotation.y=Math.PI/2,this.scene.background=this.COL_OCEAN;let i=new l.VLJ(60,150,new l.Ilk(16711680),new l.Ilk(16777215));this.scene.add(i);let o=new l.Mig(16448250,.005),r=new l.cek(16448250,.005),s=new l.cek(16448250,.005);r.position.set(200,90,40),s.position.set(200,90,40),this.scene.add(o),this.scene.add(r),this.scene.add(s),this.renderer=new l.CP7({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.updateProjectionMatrix(),n.appendChild(this.renderer.domElement),this.controls=new h.o(this.camera,this.renderer.domElement),this.controls.enableDamping=!0,this.controls.dampingFactor=.25,this.controls.screenSpacePanning=!1,this.controls.maxDistance=80;let a=new l.DvJ(.005,.005,.005),c=new l.vBJ({color:16711680}),u=new l.Kj0(a,c);u.position.y=.1,this.scene.add(u)},animate:function(){requestAnimationFrame(this.animate),this.renderer.render(this.scene,this.camera),this.controls.update(),this.faceTowardsCamera()},faceTowardsCamera:function(){if(this.camera.position.y<=3.85)if(this.camera.position.y<=1.75)for(let e=0;e<this.COUNTRIES_TEXT.length;e++)this.COUNTRIES_TEXT[e].lookAt(this.camera.position);else for(let e=0;e<this.COUNTRIES_TEXT.length;e++)this.COUNTRIES_TEXT[e].lookAt(this.camera.position),this.COUNTRIES_TEXT[e].rotation.z=this.camera.rotation.z;else for(let e=0;e<this.COUNTRIES_TEXT.length;e++)this.COUNTRIES_TEXT[e].rotation.x=this.COUNTRIES_TEXT_ROT[e][0],this.COUNTRIES_TEXT[e].rotation.y=this.COUNTRIES_TEXT_ROT[e][1],this.COUNTRIES_TEXT[e].rotation.z=this.camera.rotation.z},getCityData:function(){},getMapData:function(){fetch("./europe_borders_7MB_6p.geojson").then((e=>{e.json().then((e=>{let t=e.features,n=0;for(let i=0;i<t.length;i++)this.COUNTRIES.includes(t[i].properties["NAME"])&&("Austria"==t[i].properties["NAME"]||"Belgium"==t[i].properties["NAME"]||"Switzerland"==t[i].properties["NAME"]||"Czech Republic"==t[i].properties["NAME"]||"Luxembourg"==t[i].properties["NAME"]||"Liechtenstein"==t[i].properties["NAME"]||"Hungary"==t[i].properties["NAME"]||"Slovakia"==t[i].properties["NAME"]?this.getPolygons([t[i].geometry.coordinates],n,t[i].properties["NAME"]):this.getPolygons(t[i].geometry.coordinates,n,t[i].properties["NAME"]),n++)}))}))},setCountryNames:function(){fetch("./countries_centroids_mod.geojson").then((e=>{e.json().then((e=>{for(let t=0;t<this.COUNTRIES.length;t++)for(let n=0;n<e.features.length;n++)if(e.features[n].properties["COUNTRY"]==this.COUNTRIES[t]){let i=this.getGPSRelativePosition(e.features[n].geometry["coordinates"],this.center),o=new l.Kj0(this.GEO_POINT,this.MAT_BASIC_BLACK);o.position.y=.1,o.position.z=-i[0],o.position.x=-i[1];let r=new u.J,s=new c.r;s.load(T,(e=>{let n=r.parse(e),s=new d.M(this.COUNTRIES[t],{height:1e-4,size:.0048,font:n}),a=new l.vBJ({color:this.COL_FONT}),h=new l.Kj0(s,a);h.position.x=-i[1],h.position.z=-i[0],h.position.y=this.COUNTRIES_TEXT_HEIGHT,h.rotateX(Math.PI/2),h.rotateZ(Math.PI),h.rotateY(Math.PI),this.COUNTRIES_TEXT_POS.push([h.position.x,h.position.y,h.position.z]),this.COUNTRIES_TEXT_ROT.push([h.rotation.x,h.rotation.y,h.rotation.z]),this.scene.add(h),this.COUNTRIES_POINT.push(o),this.COUNTRIES_TEXT.push(h)}))}}))}))},getPolygons:function(e,t,n){let i=new l.vBJ;"Germany"==n?i.color.set(this.COL_TARGET):i.color.set(this.COL_REST);for(let o=0;o<e.length;o++){let t=this.genShape(e[o],this.center),n=this.genGeometry(t,{curveSegments:1,depth:.02*this.HEIGHT,bevelEnabled:!1});n.rotateX(Math.PI/2),n.rotateZ(Math.PI),n.rotateY(-Math.PI/2);let r=new l.Kj0(n,i);this.scene.add(r);let s=new l.TOt(n),a=new l.ejS(s,new l.nls({color:this.COL_EDGES}));this.scene.add(a)}},genShape:function(e,t){let n=new l.bnF;for(let i=0;i<e.length;i++){let o=e[i];for(let e=0;e<o.length;e++){let i=this.getGPSRelativePosition(o[e],t);0==e?n.moveTo(i[0],i[1]):n.lineTo(i[0],i[1])}}return n},genGeometry:function(e,t){let n=new l.O7d(e,t);return n.computeBoundingBox(),n},getGPSRelativePosition:function(e,t){let n=p.getDistance(e,t),i=p.getRhumbLineBearing(e,t),o=t[0]+n*Math.cos(i*Math.PI/180),r=t[1]+n*Math.sin(i*Math.PI/180);return o/=this.SCALE,r/=this.SCALE,[-o,r]}},mounted(){this.init(),this.animate(),this.setCountryNames(),this.getMapData()}},E=w,f=n(1001),O=(0,f.Z)(E,s,a,!1,null,"9465c4c0",null),m=O.exports,I={name:"App",components:{EuropeMap:m}},g=I,_=(0,f.Z)(g,o,r,!1,null,null,null),C=_.exports;i.ZP.config.productionTip=!1,new i.ZP({render:e=>e(C)}).$mount("#app")}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,i,o,r){if(!i){var s=1/0;for(c=0;c<e.length;c++){i=e[c][0],o=e[c][1],r=e[c][2];for(var a=!0,l=0;l<i.length;l++)(!1&r||s>=r)&&Object.keys(n.O).every((function(e){return n.O[e](i[l])}))?i.splice(l--,1):(a=!1,r<s&&(s=r));if(a){e.splice(c--,1);var h=o();void 0!==h&&(t=h)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[i,o,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,r,s=i[0],a=i[1],l=i[2],h=0;if(s.some((function(t){return 0!==e[t]}))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)var c=l(n)}for(t&&t(i);h<s.length;h++)r=s[h],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(c)},i=self["webpackChunktrain_mapgenerator2"]=self["webpackChunktrain_mapgenerator2"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(6829)}));i=n.O(i)})();
//# sourceMappingURL=app.0d101aa6.js.map